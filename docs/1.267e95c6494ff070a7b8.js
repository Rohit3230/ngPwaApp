(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{znA2:function(t,e,i){"use strict";i.r(e),i.d(e,"ResearchModule",function(){return F});var a=i("ofXK"),r=i("tyNb"),o=i("XNiG"),n=i("fXoL");const s=["video"],c=["canvas"];function h(t,e){if(1&t){const t=n.Pb();n.Ob(0,"div",6),n.Vb("click",function(){return n.ec(t),n.Xb().rotateVideoInput(!0)}),n.Nb()}}class p{constructor(t,e,i){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=e,this._imageAsDataUrl=t,this._imageData=i}static getDataFromDataUrl(t,e){return t.replace(`data:${e};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=p.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class g{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((t,e)=>{navigator.mediaDevices.enumerateDevices().then(e=>{t(e.filter(t=>"videoinput"===t.kind))}).catch(t=>{e(t.message||t)})}):Promise.reject("enumerateDevices() not supported.")}}let d=(()=>{class t{constructor(){this.width=640,this.height=480,this.videoOptions=t.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=t.DEFAULT_IMAGE_TYPE,this.imageQuality=t.DEFAULT_IMAGE_QUALITY,this.imageCapture=new n.n,this.initError=new n.n,this.imageClick=new n.n,this.cameraSwitched=new n.n,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(t){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=t.subscribe(()=>{this.takeSnapshot()})}set switchCamera(t){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=t.subscribe(t=>{"string"==typeof t?this.switchToVideoInput(t):this.rotateVideoInput(!1!==t)})}static getMediaConstraintsForDevice(t,e){const i=e||this.DEFAULT_VIDEO_OPTIONS;return t&&(i.deviceId={exact:t}),i}static getDeviceIdFromMediaStreamTrack(e){if(e.getSettings&&e.getSettings()&&e.getSettings().deviceId)return e.getSettings().deviceId;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().deviceId){const i=e.getConstraints().deviceId;return t.getValueFromConstrainDOMString(i)}}static getFacingModeFromMediaStreamTrack(e){if(e){if(e.getSettings&&e.getSettings()&&e.getSettings().facingMode)return e.getSettings().facingMode;if(e.getConstraints&&e.getConstraints()&&e.getConstraints().facingMode){const i=e.getConstraints().facingMode;return t.getValueFromConstrainDOMString(i)}}}static isUserFacing(e){const i=t.getFacingModeFromMediaStreamTrack(e);return!!i&&"user"===i.toLowerCase()}static getValueFromConstrainDOMString(t){if(t){if(t instanceof String)return String(t);if(Array.isArray(t)&&Array(t).length>0)return String(t[0]);if("object"==typeof t){if(t.exact)return String(t.exact);if(t.ideal)return String(t.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(t=>{this.initError.next({message:t}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const e=this.nativeVideoElement,i={width:this.width,height:this.height};e.videoWidth&&(i.width=e.videoWidth,i.height=e.videoHeight);const a=this.canvas.nativeElement;a.width=i.width,a.height=i.height;const r=a.getContext("2d");r.drawImage(e,0,0);const o=this.imageType?this.imageType:t.DEFAULT_IMAGE_TYPE,n=a.toDataURL(o,this.imageQuality?this.imageQuality:t.DEFAULT_IMAGE_QUALITY);let s=null;this.captureImageData&&(s=r.getImageData(0,0,a.width,a.height)),this.imageCapture.next(new p(n,o,s))}rotateVideoInput(t){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(t?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(t){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(t,this.videoOptions)}videoResize(){}get videoWidth(){const t=this.getVideoAspectRatio();return Math.min(this.width,this.height*t)}get videoHeight(){const t=this.getVideoAspectRatio();return Math.min(this.height,this.width/t)}get videoStyleClasses(){let t="";return this.isMirrorImage()&&(t+="mirrored "),t.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const t=this.nativeVideoElement;return t.videoWidth&&t.videoWidth>0&&t.videoHeight&&t.videoHeight>0?t.videoWidth/t.videoHeight:this.width/this.height}initWebcam(e,i){const a=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const r=t.getMediaConstraintsForDevice(e,i);navigator.mediaDevices.getUserMedia({video:r}).then(e=>{this.mediaStream=e,a.srcObject=e,a.play(),this.activeVideoSettings=e.getVideoTracks()[0].getSettings();const i=t.getDeviceIdFromMediaStreamTrack(e.getVideoTracks()[0]);this.cameraSwitched.next(i),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=i?this.availableVideoInputs.findIndex(t=>t.deviceId===i):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(t=>{this.initError.next({message:t.message,mediaStreamError:t})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let t="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?t=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(t=this.mirrorImage.x.toLowerCase())),t){case"always":return!0;case"never":return!1}}return t.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(t=>t.stop())}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((t,e)=>{g.getAvailableVideoInputs().then(e=>{this.availableVideoInputs=e,t(e)}).catch(t=>{this.availableVideoInputs=[],e(t)})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Db({type:t,selectors:[["webcam"]],viewQuery:function(t,e){if(1&t&&(n.hc(s,!0),n.hc(c,!0)),2&t){let t;n.bc(t=n.Wb())&&(e.video=t.first),n.bc(t=n.Wb())&&(e.canvas=t.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(t,e){1&t&&(n.Ob(0,"div",0),n.Vb("click",function(){return e.imageClick.next()}),n.Ob(1,"video",1,2),n.Vb("resize",function(){return e.videoResize()}),n.Nb(),n.jc(3,h,1,0,"div",3),n.Kb(4,"canvas",4,5),n.Nb()),2&t&&(n.yb(1),n.Ab(e.videoStyleClasses),n.ac("width",e.videoWidth)("height",e.videoHeight),n.yb(2),n.ac("ngIf",e.allowCameraSwitch&&e.availableVideoInputs.length>1&&e.videoInitialized),n.yb(1),n.ac("width",e.width)("height",e.height))},directives:[a.j],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),t.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},t.DEFAULT_IMAGE_TYPE="image/jpeg",t.DEFAULT_IMAGE_QUALITY=.92,t})(),m=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[a.b]]}),t})();var l=i("HDdC");let u=(()=>{class t{constructor(){this.connectionMonitor=new l.a(t=>{window.addEventListener("offline",e=>{t.next(!1)}),window.addEventListener("online",e=>{t.next(!0)})})}monitor(){return this.connectionMonitor}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(n.R)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),b=(()=>{class t{constructor(t){this.connectionService=t,this.isConnected=!(window&&window.navigator&&window.navigator.onLine)||window.navigator.onLine}ngOnInit(){this.internetConnected()}internetConnected(){this.connectionService.monitor().subscribe(t=>this.isConnected=t)}add(t,e){return t+e}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(u))},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i("3Pt+");function v(t,e,i,a){return new(i||(i=Promise))(function(r,o){function n(t){try{c(a.next(t))}catch(e){o(e)}}function s(t){try{c(a.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(n,s)}c((a=a.apply(t,e||[])).next())})}var x=i("jhN1");const w=["wrapper"],M=["sourceImage"];function A(t,e){if(1&t){const t=n.Pb();n.Ob(0,"img",4,5),n.Vb("load",function(){return n.ec(t),n.Xb().imageLoadedInView()}),n.Nb()}if(2&t){const t=n.Xb();n.ic("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),n.ac("src",t.safeImgDataUrl,n.fc)}}function S(t,e){if(1&t){const t=n.Pb();n.Mb(0),n.Ob(1,"span",9),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"topleft")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"topleft")}),n.Kb(2,"span",10),n.Nb(),n.Ob(3,"span",11),n.Kb(4,"span",10),n.Nb(),n.Ob(5,"span",12),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"topright")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"topright")}),n.Kb(6,"span",10),n.Nb(),n.Ob(7,"span",13),n.Kb(8,"span",10),n.Nb(),n.Ob(9,"span",14),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottomright")}),n.Kb(10,"span",10),n.Nb(),n.Ob(11,"span",15),n.Kb(12,"span",10),n.Nb(),n.Ob(13,"span",16),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottomleft")}),n.Kb(14,"span",10),n.Nb(),n.Ob(15,"span",17),n.Kb(16,"span",10),n.Nb(),n.Ob(17,"span",18),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"top")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"top")}),n.Nb(),n.Ob(18,"span",19),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"right")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"right")}),n.Nb(),n.Ob(19,"span",20),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottom")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"bottom")}),n.Nb(),n.Ob(20,"span",21),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"left")})("touchstart",function(e){n.ec(t);const i=n.Xb(2);return i.startMove(e,i.moveTypes.Resize,"left")}),n.Nb(),n.Lb()}}function y(t,e){if(1&t){const t=n.Pb();n.Ob(0,"div",6),n.Vb("keydown",function(e){return n.ec(t),n.Xb().keyboardAccess(e)}),n.Ob(1,"div",7),n.Vb("mousedown",function(e){n.ec(t);const i=n.Xb();return i.startMove(e,i.moveTypes.Move)})("touchstart",function(e){n.ec(t);const i=n.Xb();return i.startMove(e,i.moveTypes.Move)}),n.Nb(),n.jc(2,S,21,0,"ng-container",8),n.Nb()}if(2&t){const t=n.Xb();n.ic("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),n.Bb("rounded",t.roundCropper),n.yb(2),n.ac("ngIf",!t.hideResizeSquares)}}const C={Move:"move",Resize:"resize",Pinch:"pinch"};let I=(()=>{class t{crop(t,e,i,a){const r=this.getImagePosition(t,e,i,a),o=r.x2-r.x1,n=r.y2-r.y1,s=document.createElement("canvas");s.width=o,s.height=n;const c=s.getContext("2d");if(!c)return;null!=a.backgroundColor&&(c.fillStyle=a.backgroundColor,c.fillRect(0,0,o,n));const h=(a.transform.scale||1)*(a.transform.flipH?-1:1),p=(a.transform.scale||1)*(a.transform.flipV?-1:1),g=e.transformed;c.setTransform(h,0,0,p,g.size.width/2,g.size.height/2),c.translate(-r.x1/h,-r.y1/p),c.rotate((a.transform.rotate||0)*Math.PI/180),c.drawImage(g.image,-g.size.width/2,-g.size.height/2);const d={width:o,height:n,imagePosition:r,cropperPosition:Object.assign({},i)};a.containWithinAspectRatio&&(d.offsetImagePosition=this.getOffsetImagePosition(t,e,i,a));const m=this.getResizeRatio(o,n,a);return 1!==m&&(d.width=Math.round(o*m),d.height=a.maintainAspectRatio?Math.round(d.width/a.aspectRatio):Math.round(n*m),function(t,e,i){const a=t.width,r=t.height,o=a/(e=Math.round(e)),n=r/(i=Math.round(i)),s=Math.ceil(o/2),c=Math.ceil(n/2),h=t.getContext("2d");if(h){const p=h.getImageData(0,0,a,r),g=h.createImageData(e,i),d=p.data,m=g.data;for(let t=0;t<i;t++)for(let i=0;i<e;i++){const h=4*(i+t*e),p=t*n;let g=0,l=0,u=0,b=0,f=0,v=0,x=0;const w=Math.floor(i*o),M=Math.floor(t*n);let A=Math.ceil((i+1)*o),S=Math.ceil((t+1)*n);A=Math.min(A,a),S=Math.min(S,r);for(let t=M;t<S;t++){const e=Math.abs(p-t)/c,r=i*o,n=e*e;for(let i=w;i<A;i++){const e=Math.abs(r-i)/s,o=Math.sqrt(n+e*e);if(o>=1)continue;g=2*o*o*o-3*o*o+1;const c=4*(i+t*a);x+=g*d[c+3],u+=g,d[c+3]<255&&(g=g*d[c+3]/250),b+=g*d[c],f+=g*d[c+1],v+=g*d[c+2],l+=g}}m[h]=b/l,m[h+1]=f/l,m[h+2]=v/l,m[h+3]=x/u}t.width=e,t.height=i,h.putImageData(g,0,0)}}(s,d.width,d.height)),d.base64=s.toDataURL("image/"+a.format,this.getQuality(a)),d}getImagePosition(t,e,i,a){const r=e.transformed.size.width/t.nativeElement.offsetWidth,o={x1:Math.round(i.x1*r),y1:Math.round(i.y1*r),x2:Math.round(i.x2*r),y2:Math.round(i.y2*r)};return a.containWithinAspectRatio||(o.x1=Math.max(o.x1,0),o.y1=Math.max(o.y1,0),o.x2=Math.min(o.x2,e.transformed.size.width),o.y2=Math.min(o.y2,e.transformed.size.height)),o}getOffsetImagePosition(t,e,i,a){const r=e.transformed.size.width/t.nativeElement.offsetWidth;let o,n;(a.canvasRotation+e.exifTransform.rotate)%2?(o=(e.transformed.size.width-e.original.size.height)/2,n=(e.transformed.size.height-e.original.size.width)/2):(o=(e.transformed.size.width-e.original.size.width)/2,n=(e.transformed.size.height-e.original.size.height)/2);const s={x1:Math.round(i.x1*r)-o,y1:Math.round(i.y1*r)-n,x2:Math.round(i.x2*r)-o,y2:Math.round(i.y2*r)-n};return a.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,e.transformed.size.width),s.y2=Math.min(s.y2,e.transformed.size.height)),s}getResizeRatio(t,e,i){const a=i.resizeToWidth/t,r=i.resizeToHeight/e,o=new Array;i.resizeToWidth>0&&o.push(a),i.resizeToHeight>0&&o.push(r);const n=0===o.length?1:Math.min(...o);return n>1&&!i.onlyScaleDown?n:Math.min(n,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(n.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class O{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(t){Object.keys(t).forEach(e=>this[e]=t[e])}}let z=(()=>{class t{constructor(){this.autoRotateSupported=new Promise(t=>{const e=new Image;e.onload=()=>{t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(t,e){return new Promise((i,a)=>{const r=new FileReader;r.onload=r=>{this.loadImage(r.target.result,t.type,e).then(i).catch(a)},r.readAsDataURL(t)})}loadImage(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadImageFromURL(t,e){return new Promise((i,a)=>{const r=new Image;r.onerror=()=>a,r.onload=()=>{const t=document.createElement("canvas"),a=t.getContext("2d");t.width=r.width,t.height=r.height,a.drawImage(r,0,0),this.loadBase64Image(t.toDataURL(),e).then(i)},r.crossOrigin="anonymous",r.src=t})}loadBase64Image(t,e){return new Promise((e,i)=>{const a=new Image;a.onload=()=>e({originalImage:a,originalBase64:t}),a.onerror=i,a.src=t}).then(t=>this.transformImageBase64(t,e))}transformImageBase64(t,e){return v(this,void 0,void 0,function*(){const i=yield this.autoRotateSupported,a=yield function(t){switch("string"==typeof t&&(t=function(t){const e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");const e=atob(t),i=e.length,a=new Uint8Array(i);for(let r=0;r<i;r++)a[r]=e.charCodeAt(r);return a.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;const i=e.byteLength;let a=2;for(;a<i;){if(e.getUint16(a+2,!1)<=8)return-1;const t=e.getUint16(a,!1);if(a+=2,65505==t){if(1165519206!=e.getUint32(a+=2,!1))return-1;const t=18761==e.getUint16(a+=6,!1);a+=e.getUint32(a+4,t);const i=e.getUint16(a,t);a+=2;for(let r=0;r<i;r++)if(274==e.getUint16(a+12*r,t))return e.getUint16(a+12*r+8,t)}else{if(65280!=(65280&t))break;a+=e.getUint16(a,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(i?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},e):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(t,e){return v(this,void 0,void 0,function*(){const i=e.canvasRotation+t.exifTransform.rotate,a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===i&&!t.exifTransform.flip&&!e.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},exifTransform:t.exifTransform};const r=this.getTransformedSize(a,t.exifTransform,e),o=document.createElement("canvas");o.width=r.width,o.height=r.height;const n=o.getContext("2d");n.setTransform(t.exifTransform.flip?-1:1,0,0,1,o.width/2,o.height/2),n.rotate(Math.PI*(i/2)),n.drawImage(t.original.image,-a.width/2,-a.height/2);const s=o.toDataURL(),c=yield this.loadImageFromBase64(s);return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:s,image:c,size:{width:c.width,height:c.height}},exifTransform:t.exifTransform}})}loadImageFromBase64(t){return new Promise((e,i)=>{const a=new Image;a.onload=()=>e(a),a.onerror=i,a.src=t})}getTransformedSize(t,e,i){const a=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(a%2){const e=t.height/i.aspectRatio;return{width:Math.max(t.height,t.width*i.aspectRatio),height:Math.max(t.width,e)}}{const e=t.width/i.aspectRatio;return{width:Math.max(t.width,t.height*i.aspectRatio),height:Math.max(t.height,e)}}}return a%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(n.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),R=(()=>{class t{resetCropperPosition(t,e,i){const a=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=a.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:a.offsetWidth,e.y1=0,e.y2=a.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:a.offsetHeight;else{const t=Math.min(i.cropperScaledMaxWidth,a.offsetWidth),r=Math.min(i.cropperScaledMaxHeight,a.offsetHeight);if(i.maintainAspectRatio)if(t/i.aspectRatio<r){e.x1=0,e.x2=t;const r=t/i.aspectRatio;e.y1=(a.offsetHeight-r)/2,e.y2=e.y1+r}else{e.y1=0,e.y2=r;const t=r*i.aspectRatio;e.x1=(a.offsetWidth-t)/2,e.x2=e.x1+t}else e.x1=0,e.x2=t,e.y1=0,e.y2=r}}move(t,e,i){const a=this.getClientX(t)-e.clientX,r=this.getClientY(t)-e.clientY;i.x1=e.x1+a,i.y1=e.y1+r,i.x2=e.x2+a,i.y2=e.y2+r}resize(t,e,i,a,r){const o=this.getClientX(t)-e.clientX,n=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+o,i.x2-r.cropperScaledMaxWidth),i.x2-r.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-r.cropperScaledMaxWidth),i.x2-r.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+n,i.y2-r.cropperScaledMaxHeight),i.y2-r.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+n,i.y2-r.cropperScaledMaxHeight),i.y2-r.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+o,i.x1+r.cropperScaledMaxWidth),i.x1+r.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+n,i.y2-r.cropperScaledMaxHeight),i.y2-r.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+o,i.x1+r.cropperScaledMaxWidth),i.x1+r.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+o,i.x1+r.cropperScaledMaxWidth),i.x1+r.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+n,i.y1+r.cropperScaledMaxHeight),i.y1+r.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+n,i.y1+r.cropperScaledMaxHeight),i.y1+r.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+o,i.x2-r.cropperScaledMaxWidth),i.x2-r.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+n,i.y1+r.cropperScaledMaxHeight),i.y1+r.cropperScaledMinHeight);break;case"center":const s=t.scale,c=Math.min(Math.max(r.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*s),r.cropperScaledMaxWidth),h=Math.min(Math.max(r.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*s),r.cropperScaledMaxHeight);i.x1=e.clientX-c/2,i.x2=e.clientX+c/2,i.y1=e.clientY-h/2,i.y2=e.clientY+h/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>a.width&&(i.x1-=i.x2-a.width,i.x2=a.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>a.height&&(i.y1-=i.y2-a.height,i.y2=a.height)}r.maintainAspectRatio&&this.checkAspectRatio(e.position,i,a,r)}checkAspectRatio(t,e,i,a){let r=0,o=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,r=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(r>0||o>0)&&(e.x2-=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y1+=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,r=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(r>0||o>0)&&(e.x2-=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y2-=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/a.aspectRatio,r=Math.max(0-e.x1,0),o=Math.max(0-e.y1,0),(r>0||o>0)&&(e.x1+=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y1+=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/a.aspectRatio,r=Math.max(e.x2-i.width,0),o=Math.max(0-e.y1,0),(r>0||o>0)&&(e.x2-=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y1+=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio,r=Math.max(e.x2-i.width,0),o=Math.max(e.y2-i.height,0),(r>0||o>0)&&(e.x2-=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y2-=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio,r=Math.max(0-e.x1,0),o=Math.max(e.y2-i.height,0),(r>0||o>0)&&(e.x1+=o*a.aspectRatio>r?o*a.aspectRatio:r,e.y2-=o*a.aspectRatio>r?o:r/a.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*a.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/a.aspectRatio;const t=Math.max(0-e.x1,0),n=Math.max(e.x2-i.width,0),s=Math.max(e.y2-i.height,0),c=Math.max(0-e.y1,0);(t>0||n>0||s>0||c>0)&&(e.x1+=s*a.aspectRatio>t?s*a.aspectRatio:t,e.x2-=c*a.aspectRatio>n?c*a.aspectRatio:n,e.y1+=c*a.aspectRatio>n?c:n/a.aspectRatio,e.y2-=s*a.aspectRatio>t?s:t/a.aspectRatio)}}getClientX(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}getClientY(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(n.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),P=(()=>{class t{constructor(t,e,i,a,r){this.cropService=t,this.cropperPositionService=e,this.loadImageService=i,this.sanitizer=a,this.cd=r,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new O,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=C,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new n.n,this.startCropImage=new n.n,this.imageLoaded=new n.n,this.cropperReady=new n.n,this.loadImageFailed=new n.n,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage&&this.loadedImage.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t)),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(t){Object.keys(t).filter(t=>this.settings.hasOwnProperty(t)).forEach(t=>this.settings[t]=this[t]),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&(this.settings.hideResizeSquares=!0,this.settings.cropperMinWidth=this.settings.cropperStaticWidth,this.settings.cropperMinHeight=this.settings.cropperStaticHeight,this.settings.cropperMaxHeight=this.settings.cropperStaticHeight,this.settings.cropperMaxWidth=this.settings.cropperStaticWidth,this.settings.maintainAspectRatio=!1)}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(n.U)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){t.key>="1"&&t.key<="9"&&(this.settings.stepSize=+t.key)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const e=t.shiftKey?C.Resize:C.Move,i=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),a=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(a),this.moveStop()}startMove(t,e,i=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===C.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}startPinch(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:C.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===C.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===C.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===C.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage.transformed.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(I),n.Jb(R),n.Jb(z),n.Jb(x.b),n.Jb(n.h))},t.\u0275cmp=n.Db({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){if(1&t&&(n.hc(w,!0),n.nc(M,!0)),2&t){let t;n.bc(t=n.Wb())&&(e.wrapper=t.first),n.bc(t=n.Wb())&&(e.sourceImage=t.first)}},hostVars:4,hostBindings:function(t,e){1&t&&n.Vb("resize",function(){return e.onResize()},!1,n.dc)("mousemove",function(t){return e.moveImg(t)},!1,n.cc)("touchmove",function(t){return e.moveImg(t)},!1,n.cc)("mouseup",function(){return e.moveStop()},!1,n.cc)("touchend",function(){return e.moveStop()},!1,n.cc),2&t&&(n.ic("text-align",e.alignImage),n.Bb("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[n.wb],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(n.Ob(0,"div",null,0),n.jc(2,A,2,5,"img",1),n.Kb(3,"div",2),n.jc(4,y,3,15,"div",3),n.Nb()),2&t&&(n.ic("background",e.imageVisible&&e.backgroundColor),n.yb(2),n.ac("ngIf",e.safeImgDataUrl),n.yb(1),n.ic("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),n.yb(1),n.ac("ngIf",e.imageVisible))},directives:[a.j],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t})(),k=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[a.b]]}),t})();function E(t,e){1&t&&(n.Ob(0,"label",24),n.kc(1," Web OTP API not supported, Please enter manually. "),n.Nb())}function W(t,e){if(1&t){const t=n.Pb();n.Ob(0,"webcam",25),n.Vb("imageCapture",function(e){return n.ec(t),n.Xb().handleImage(e)})("cameraSwitched",function(e){return n.ec(t),n.Xb().cameraWasSwitched(e)})("initError",function(e){return n.ec(t),n.Xb().handleInitError(e)}),n.Nb()}if(2&t){const t=n.Xb();n.ac("height",500)("width",500)("trigger",t.triggerObservable)("allowCameraSwitch",t.allowCameraSwitch)("switchCamera",t.nextWebcamObservable)("videoOptions",t.videoOptions)("imageQuality",1)}}function T(t,e){if(1&t&&(n.Ob(0,"div",26),n.Ob(1,"h2"),n.kc(2,"Nice one!"),n.Nb(),n.Kb(3,"img",23),n.Nb()),2&t){const t=n.Xb();n.yb(3),n.ac("src",t.webcamImage.imageAsDataUrl,n.fc)}}function D(t,e){1&t&&(n.Ob(0,"h4"),n.kc(1,"Messages:"),n.Nb())}function _(t,e){if(1&t&&(n.Ob(0,"ul"),n.Ob(1,"li"),n.kc(2),n.Yb(3,"json"),n.Nb(),n.Nb()),2&t){const t=e.$implicit;n.yb(2),n.lc(n.Zb(3,1,t))}}function V(t,e){if(1&t&&(n.Ob(0,"p"),n.kc(1," Current Internet Status:\xa0"),n.Ob(2,"b"),n.kc(3),n.Nb(),n.Nb()),2&t){const t=n.Xb();n.yb(3),n.mc(" ",t.internetStatus," ")}}function N(t,e){1&t&&(n.Ob(0,"p"),n.kc(1," For checking internet status click on Check button, it will show currenst status of the internet. "),n.Nb())}function H(t,e){1&t&&(n.Ob(0,"p"),n.kc(1,' For Toogle internet status set offline or online from "Console Network tab". '),n.Nb())}const Q=[{path:"",component:(()=>{class t{constructor(t){this.util=t,this.showWebcam=!1,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.deviceId="",this.videoOptions={width:{ideal:1024},height:{ideal:576}},this.errors=[],this.webcamImage=null,this.trigger=new o.a,this.nextWebcam=new o.a,this.internetStatus="",this.mainObj={},this.imageChangedEvent="",this.croppedImage=""}ngOnInit(){this.initWebCam(),this.util.internetConnected()}initWebCam(){g.getAvailableVideoInputs().then(t=>{this.multipleWebcamsAvailable=t&&t.length>1})}triggerSnapshot(){this.trigger.next()}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(t){this.errors.push(t)}showNextWebcam(t){this.nextWebcam.next(t)}handleImage(t){console.info("received webcam image",t),this.webcamImage=t}cameraWasSwitched(t){console.log("active device: "+t),this.deviceId=t}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}checkInternetConnectivity(){console.log("value****",this.util.isConnected),this.internetStatus=this.util.isConnected?"ONLINE":"OFLINE"}ngAfterViewInit(){"OTPCredential"in window?(this.mainObj.isWebOtpSupported=!0,window.addEventListener("DOMContentLoaded",t=>{const e=document.querySelector('input[autocomplete="one-time-code"]');if(!e)return;const i=new AbortController,a=e.closest("form");a&&a.addEventListener("submit",t=>{i.abort()}),navigator.credentials.get({otp:{transport:["sms"]},signal:i.signal}).then(t=>{t&&t&&t.code&&(this.myOTP=t.code)}).catch(t=>{console.log(t)})})):this.mainObj.isWebOtpSupported=!1}fileChangeEvent(t){this.imageChangedEvent=t}imageCropped(t){this.croppedImage=t.base64}imageLoaded(){}cropperReady(){}loadImageFailed(){}}return t.\u0275fac=function(e){return new(e||t)(n.Jb(b))},t.\u0275cmp=n.Db({type:t,selectors:[["app-research"]],decls:73,vars:17,consts:[[1,"container"],[1,"borderSection","checkInternet"],["style","color: red;",4,"ngIf"],[2,"border","1px solid","padding","5px","margin","10px 0"],["action","ngPwaApp/test","method","post"],["type","text","autocomplete","one-time-code","inputmode","numeric","name","one-time-code",3,"ngModel","ngModelChange"],["type","submit","value","Submit"],[2,"text-align","center"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError",4,"ngIf"],[1,"actionBtn",3,"click"],[1,"actionBtn",3,"disabled","click"],["id","cameraSwitchCheckbox","type","checkbox",3,"ngModel","ngModelChange"],["for","cameraSwitchCheckbox"],["id","deviceId","type","text",2,"width","500px",3,"ngModel","ngModelChange"],[3,"click"],["class","snapshot",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","file",3,"change"],[1,"row",2,"margin-top","15px"],[1,"text-center","col-md-8"],["format","png",3,"imageChangedEvent","maintainAspectRatio","initialStepSize","resizeToWidth","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"text-center","col-md-4"],[3,"src"],[2,"color","red"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageQuality","imageCapture","cameraSwitched","initError"],[1,"snapshot"]],template:function(t,e){1&t&&(n.Ob(0,"div",0),n.Ob(1,"div",1),n.Ob(2,"div"),n.Ob(3,"label"),n.Ob(4,"b"),n.kc(5,"The simplest Web OTP API demo:"),n.Nb(),n.Nb(),n.Kb(6,"br"),n.jc(7,E,2,0,"label",2),n.Nb(),n.Ob(8,"div"),n.kc(9," Process Exp: Send an SMS that includes "),n.Kb(10,"br"),n.Ob(11,"pre"),n.Ob(12,"code"),n.kc(13,"\n            Your OTP is: 123456.\n            @rohit3230.github.io #12345"),n.Nb(),n.Nb(),n.kc(14," to this phone. "),n.Nb(),n.Ob(15,"div",3),n.Ob(16,"form",4),n.kc(17," Enter OTP here: "),n.Ob(18,"input",5),n.Vb("ngModelChange",function(t){return e.myOTP=t}),n.Nb(),n.Kb(19,"input",6),n.Nb(),n.Nb(),n.Nb(),n.Ob(20,"div",1),n.Ob(21,"div"),n.Ob(22,"label"),n.Ob(23,"b"),n.kc(24,"Ngx-Webcam Demo:"),n.Nb(),n.Nb(),n.Nb(),n.Ob(25,"div",7),n.Ob(26,"div"),n.jc(27,W,1,7,"webcam",8),n.Kb(28,"br"),n.Ob(29,"button",9),n.Vb("click",function(){return e.triggerSnapshot()}),n.kc(30,"Take A Snapshot"),n.Nb(),n.Ob(31,"button",9),n.Vb("click",function(){return e.toggleWebcam()}),n.kc(32,"Toggle Webcam"),n.Nb(),n.Kb(33,"br"),n.Ob(34,"button",10),n.Vb("click",function(){return e.showNextWebcam(!0)}),n.kc(35,"Next Webcam"),n.Nb(),n.Ob(36,"input",11),n.Vb("ngModelChange",function(t){return e.allowCameraSwitch=t}),n.Nb(),n.Ob(37,"label",12),n.kc(38,"Allow Camera Switch"),n.Nb(),n.Kb(39,"br"),n.kc(40," DeviceId: "),n.Ob(41,"input",13),n.Vb("ngModelChange",function(t){return e.deviceId=t}),n.Nb(),n.Ob(42,"button",14),n.Vb("click",function(){return e.showNextWebcam(e.deviceId)}),n.kc(43,"Activate"),n.Nb(),n.Nb(),n.Nb(),n.jc(44,T,4,1,"div",15),n.jc(45,D,2,0,"h4",16),n.jc(46,_,4,3,"ul",17),n.Nb(),n.Ob(47,"div",1),n.Ob(48,"div"),n.Ob(49,"label"),n.Ob(50,"b"),n.kc(51,"Check Internet Stataus:"),n.Nb(),n.Nb(),n.Nb(),n.Ob(52,"div"),n.Ob(53,"button",14),n.Vb("click",function(){return e.checkInternetConnectivity()}),n.kc(54,"Check"),n.Nb(),n.jc(55,V,4,1,"p",16),n.jc(56,N,2,0,"p",16),n.jc(57,H,2,0,"p",16),n.Nb(),n.Nb(),n.Ob(58,"div",1),n.Ob(59,"div"),n.Ob(60,"label"),n.Ob(61,"b"),n.kc(62,"Img Crop"),n.Nb(),n.Nb(),n.Nb(),n.Ob(63,"input",18),n.Vb("change",function(t){return e.fileChangeEvent(t)}),n.Nb(),n.Ob(64,"div",19),n.Ob(65,"div",20),n.Ob(66,"h5"),n.kc(67,"Crop Image"),n.Nb(),n.Ob(68,"image-cropper",21),n.Vb("imageCropped",function(t){return e.imageCropped(t)})("imageLoaded",function(){return e.imageLoaded()})("cropperReady",function(){return e.cropperReady()})("loadImageFailed",function(){return e.loadImageFailed()}),n.Nb(),n.Nb(),n.Ob(69,"div",22),n.Ob(70,"h5"),n.kc(71,"Preview"),n.Nb(),n.Kb(72,"img",23),n.Nb(),n.Nb(),n.Nb(),n.Nb()),2&t&&(n.yb(7),n.ac("ngIf",!e.mainObj.isWebOtpSupported),n.yb(11),n.ac("ngModel",e.myOTP),n.yb(9),n.ac("ngIf",e.showWebcam),n.yb(7),n.ac("disabled",!e.multipleWebcamsAvailable),n.yb(2),n.ac("ngModel",e.allowCameraSwitch),n.yb(5),n.ac("ngModel",e.deviceId),n.yb(3),n.ac("ngIf",e.webcamImage),n.yb(1),n.ac("ngIf",e.errors.length>0),n.yb(1),n.ac("ngForOf",e.errors),n.yb(9),n.ac("ngIf",e.internetStatus),n.yb(1),n.ac("ngIf",!e.internetStatus),n.yb(1),n.ac("ngIf",e.internetStatus),n.yb(11),n.ac("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!1)("initialStepSize",2)("resizeToWidth",256),n.yb(4),n.ac("src",e.croppedImage,n.fc))},directives:[a.j,f.h,f.e,f.f,f.b,f.d,f.g,f.a,a.i,P,d],pipes:[a.e],styles:[""]}),t})()}];let B=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[r.b.forChild(Q)],r.b]}),t})(),F=(()=>{class t{}return t.\u0275mod=n.Hb({type:t}),t.\u0275inj=n.Gb({factory:function(e){return new(e||t)},imports:[[a.b,B,m,f.c,k]]}),t})()}}]);